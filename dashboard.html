 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JOMPO FarmLink Marketplace</title>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<style>
/* Chatbot bubble style */
#chatbotBtn { 
  position: fixed; 
  bottom: 20px; 
  right: 20px; 
  background-color: #25D366; 
  color: white; 
  border-radius: 12px; 
  width: auto; 
  padding: 10px 16px; 
  font-size: 24px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  cursor: pointer; 
  z-index: 1000; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
}
#chatWindow { 
  position: fixed; 
  bottom: 70px; 
  right: 20px; 
  width: 320px; 
  max-height: 500px; 
  background-color: white; 
  border-radius: 10px; 
  box-shadow: 0 5px 15px rgba(0,0,0,0.3); 
  display: none; 
  flex-direction: column; 
  overflow: hidden; 
  z-index: 1000; 
}
#chatHeaderBubble { 
  background-color: #25D366; 
  color: white; 
  padding: 10px; 
  cursor: pointer; 
  font-weight: bold; 
}
#chatBodyBubble { 
  padding: 10px; 
  overflow-y: auto; 
  flex: 1; 
}
#chatInputContainer { 
  display: flex; 
  padding: 5px; 
  border-top: 1px solid #ddd; 
}
#chatInputBubble { 
  flex: 1; 
  padding: 8px; 
  border: 1px solid #ccc; 
  border-radius: 6px; 
}
#chatSendBubble { 
  margin-left: 5px; 
  background-color: #25D366; 
  color: white; 
  padding: 8px 12px; 
  border-radius: 6px; 
  cursor: pointer; 
}
.userMsg { text-align: right; margin: 5px 0; }
.botMsg { text-align: left; margin: 5px 0; }
</style>
</head>
<body class="bg-gray-100">

<!-- Navbar -->
<nav class="bg-green-700 text-white p-4 flex justify-between items-center">
  <span class="font-bold text-lg">JOMPO FarmLink Marketplace</span>
  <div id="authLinks"></div>
</nav>

<!-- Search & sort -->
<div class="flex justify-between items-center p-4">
  <input type="text" id="searchInput" placeholder="Search products..." class="border p-2 rounded w-2/3">
  <select id="sortSelect" class="border p-2 rounded">
    <option value="newest">Newest</option>
    <option value="priceLow">Price: Low â†’ High</option>
    <option value="priceHigh">Price: High â†’ Low</option>
  </select>
</div>

<!-- Category tabs -->
<div class="flex justify-center mt-2 space-x-4">
  <button class="categoryBtn px-4 py-2 bg-green-500 text-white rounded" data-category="all">All</button>
  <button class="categoryBtn px-4 py-2 bg-gray-200 rounded" data-category="cereals">Cereals</button>
  <button class="categoryBtn px-4 py-2 bg-gray-200 rounded" data-category="vegetables">Vegetables</button>
  <button class="categoryBtn px-4 py-2 bg-gray-200 rounded" data-category="fruits">Fruits</button>
  <button class="categoryBtn px-4 py-2 bg-gray-200 rounded" data-category="onions">Onions</button>
  <button class="categoryBtn px-4 py-2 bg-gray-200 rounded" data-category="others">Others</button>
</div>

<!-- Add Listing Form -->
<div class="max-w-2xl mx-auto my-6 p-4 bg-white rounded shadow">
  <h2 class="text-lg font-bold mb-4">Add Product Listing</h2>
  <form id="addListingForm" class="space-y-3">
    <input type="text" id="productName" placeholder="Product Name" required class="border p-2 rounded w-full">
    <select id="category" required class="border p-2 rounded w-full">
      <option value="">Select Category</option>
      <option value="cereals">Cereals</option>
      <option value="vegetables">Vegetables</option>
      <option value="fruits">Fruits</option>
      <option value="onions">Onions</option>
      <option value="others">Others</option>
    </select>
    <input type="number" id="price" placeholder="Price (KSh)" required class="border p-2 rounded w-full">
    <input type="text" id="locationListing" placeholder="Location" required class="border p-2 rounded w-full">
    <input type="file" id="productImage" accept="image/*" class="border p-2 rounded w-full">
    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Add Listing</button>
  </form>
  <p id="listingMessage" class="mt-2"></p>
</div>

<!-- Products grid -->
<div id="productsContainer" class="p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>

<!-- Cart Sidebar -->
<div id="cartSidebar" class="fixed right-0 top-0 h-full w-80 bg-white shadow-lg p-4 hidden z-50 overflow-y-auto">
  <h2 class="font-bold text-lg mb-4">Cart</h2>
  <ul id="cartList"></ul>
  <div class="mt-4">
    <p class="font-bold">Total: KSh <span id="cartTotal">0</span></p>
    <button id="checkoutBtn" class="mt-2 bg-green-500 text-white px-4 py-2 rounded w-full hover:bg-green-600">Checkout</button>
  </div>
  <button id="closeCart" class="absolute top-2 right-2 text-red-500 font-bold">X</button>
</div>

<button id="openCartBtn" class="fixed right-4 bottom-100 bg-green-500 text-white px-4 py-2 rounded z-40 hover:bg-green-600">View Cart</button>

<!-- Chatbot message icon -->
<div id="chatbotBtn">ðŸ’¬ Message AI</div>

<!-- Chat window -->
<div id="chatWindow" class="flex flex-col">
  <div id="chatHeaderBubble">Chat with AI</div>
  <div id="chatBodyBubble"></div>
  <div id="chatInputContainer">
    <input type="text" id="chatInputBubble" placeholder="Type a message...">
    <button id="chatSendBubble">Send</button>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
   
